{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref, onMounted, onUnmounted } from 'vue';\nimport io from 'socket.io-client';\nexport default {\n  name: 'HomePage',\n  setup() {\n    const socket = io('http://localhost:3000'); // Express.js 서버 주소로 변경\n\n    const message = ref('');\n    const messages = reactive([]);\n    const sendMessage = () => {\n      socket.emit('chat message', message.value);\n      message.value = '';\n    };\n    onMounted(() => {\n      socket.on('chat message', msg => {\n        messages.push(msg);\n      });\n    });\n    onUnmounted(() => {\n      socket.disconnect();\n    });\n    return {\n      message,\n      messages,\n      sendMessage\n    };\n  }\n};","map":{"version":3,"names":["reactive","ref","onMounted","onUnmounted","io","name","setup","socket","message","messages","sendMessage","emit","value","on","msg","push","disconnect"],"sources":["/Users/kgj/Library/Mobile Documents/com~apple~CloudDocs/공유/University/4-1/종프2/chatClient/chat-room/src/components/HomePage.vue"],"sourcesContent":["<template>\n  <div>\n    sd\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, onMounted, onUnmounted } from 'vue'\nimport io from 'socket.io-client'\nexport default {\n  name: 'HomePage',\n  setup() {\n    const socket = io('http://localhost:3000'); // Express.js 서버 주소로 변경\n\n    const message = ref('');\n    const messages = reactive([]);\n\n    const sendMessage = () => {\n      socket.emit('chat message', message.value)\n      message.value = ''\n    }\n\n    onMounted(() => {\n      socket.on('chat message', (msg) => {\n        messages.push(msg)\n      })\n    });\n\n    onUnmounted(() => {\n      socket.disconnect()\n    });\n\n    return {\n      message,\n      messages,\n      sendMessage\n    }\n\n  }\n}\n</script>\n\n\n<style scoped>\n\n</style>\n"],"mappings":";AAOA,SAASA,QAAQ,EAAEC,GAAG,EAAEC,SAAS,EAAEC,WAAU,QAAS,KAAI;AAC1D,OAAOC,EAAC,MAAO,kBAAiB;AAChC,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIH,EAAE,CAAC,uBAAuB,CAAC,EAAE;;IAE5C,MAAMI,OAAM,GAAIP,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMQ,QAAO,GAAIT,QAAQ,CAAC,EAAE,CAAC;IAE7B,MAAMU,WAAU,GAAIA,CAAA,KAAM;MACxBH,MAAM,CAACI,IAAI,CAAC,cAAc,EAAEH,OAAO,CAACI,KAAK;MACzCJ,OAAO,CAACI,KAAI,GAAI,EAAC;IACnB;IAEAV,SAAS,CAAC,MAAM;MACdK,MAAM,CAACM,EAAE,CAAC,cAAc,EAAGC,GAAG,IAAK;QACjCL,QAAQ,CAACM,IAAI,CAACD,GAAG;MACnB,CAAC;IACH,CAAC,CAAC;IAEFX,WAAW,CAAC,MAAM;MAChBI,MAAM,CAACS,UAAU,EAAC;IACpB,CAAC,CAAC;IAEF,OAAO;MACLR,OAAO;MACPC,QAAQ;MACRC;IACF;EAEF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}