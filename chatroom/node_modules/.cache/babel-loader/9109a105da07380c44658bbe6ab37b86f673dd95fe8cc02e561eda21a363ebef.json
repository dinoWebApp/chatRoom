{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  setup() {\n    const router = useRouter();\n    let nickName = ref('');\n    let chatName = ref('');\n    let enroll = ref(false);\n    let chatRooms = ref([]);\n    function clickJoinRoom(e) {\n      router.push({\n        path: '/chat-room',\n        query: {\n          roomName: e.target.previousElementSibling.previousElementSibling.innerText,\n          nickName: nickName.value\n        }\n      });\n    }\n    function clickEnroll() {\n      enroll.value = true;\n      axios.get('/api/chatRooms').then(res => {\n        chatRooms.value = res.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    function inputNick(e) {\n      nickName.value = e.target.value;\n    }\n    function inputChatName(e) {\n      chatName.value = e.target.value;\n    }\n    function clickChatEnroll() {\n      axios.post('/api/enrollChatRoom', {\n        chatRoomName: chatName.value\n      }).then(res => {\n        chatRooms.value = res.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    return {\n      clickJoinRoom,\n      nickName,\n      enroll,\n      clickEnroll,\n      inputNick,\n      chatName,\n      inputChatName,\n      clickChatEnroll,\n      chatRooms\n    };\n  }\n};","map":{"version":3,"names":["axios","ref","useRouter","setup","router","nickName","chatName","enroll","chatRooms","clickJoinRoom","e","push","path","query","roomName","target","previousElementSibling","innerText","value","clickEnroll","get","then","res","data","catch","err","console","log","inputNick","inputChatName","clickChatEnroll","post","chatRoomName"],"sources":["/Users/kgj/Library/Mobile Documents/com~apple~CloudDocs/공유/University/4-1/종프2/chatClient/chat-room/src/components/HomePage.vue"],"sourcesContent":["<template>\n  <div v-if=\"enroll === false\" align=\"center\">\n    <div class=\"form-floating mb-2 col-6 d-flex\">\n      <input type=\"text\" class=\"form-control\" id=\"floatingIdInput\" placeholder=\"닉네임\" v-bind:value=\"nickName\" @change=\"inputNick\">\n      <label for=\"floatingIdInput\">닉네임</label>\n      <button @click=\"clickEnroll\" class=\"btn btn-danger col-auto\">등록</button>\n    </div>\n  </div>\n  <div v-if=\"enroll\">\n    <div align=\"center\">\n      <div class=\"form-floating mb-2 col-6 d-flex\">\n        <input type=\"text\" class=\"form-control\" id=\"floatingIdInput\" placeholder=\"채팅방 이름\" v-bind:value=\"chatName\" @change=\"inputChatName\">\n        <label for=\"floatingIdInput\">채팅방 이름</label>\n        <button @click=\"clickChatEnroll\" class=\"btn btn-danger col-auto\">등록</button>\n      </div>\n    </div>\n    <div v-for=\"item in chatRooms\" :key=\"item\" class=\"container\">\n      <div>\n        <div>\n          {{ item.roomName }}\n        </div>\n        <div style=\"font-size: small; color: gray;\">\n          {{ item.lastMessage }}\n        </div>\n        <button @click=\"clickJoinRoom\" class=\"btn btn-danger\">입장</button>\n      </div>\n      <hr/>\n    </div>\n    <button @click=\"clickJoinRoom\" class=\"btn btn-danger me-1\">chatroom1</button>\n    <button @click=\"clickJoinRoom\" class=\"btn btn-danger me-1\">chatroom2</button>\n    <button @click=\"clickJoinRoom\" class=\"btn btn-danger\">chatroom3</button>\n    \n  </div>\n  \n</template>\n\n<script>\nimport axios from 'axios';\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\n\n\nexport default{\n  setup() {\n    const router = useRouter();\n    let nickName = ref('');\n    let chatName = ref('');\n    let enroll = ref(false);\n    let chatRooms = ref([]);\n    function clickJoinRoom(e) {\n      router.push({path : '/chat-room', query : {roomName : e.target.previousElementSibling.previousElementSibling.innerText, nickName : nickName.value}})\n    }\n    function clickEnroll() {\n      enroll.value = true;\n      axios.get('/api/chatRooms')\n      .then(res=>{\n        chatRooms.value = res.data;\n      })\n      .catch(err=>{\n        console.log(err);\n      })\n    }\n    function inputNick(e) {\n      nickName.value = e.target.value;\n    }\n    function inputChatName(e) {\n      chatName.value = e.target.value;\n    }\n    function clickChatEnroll() {\n      axios.post('/api/enrollChatRoom', {chatRoomName : chatName.value})\n      .then(res=>{\n        chatRooms.value = res.data;\n      })\n      .catch(err=>{\n        console.log(err);\n      })\n    }\n\n    return {clickJoinRoom, nickName, enroll, clickEnroll, inputNick, chatName, inputChatName, clickChatEnroll, chatRooms};\n  },\n\n};\n\n</script>\n\n\n<style scoped>\n\n</style>\n"],"mappings":";AAqCA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,GAAE,QAAS,KAAK;AACzB,SAASC,SAAQ,QAAS,YAAY;AAGtC,eAAc;EACZC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIF,SAAS,EAAE;IAC1B,IAAIG,QAAO,GAAIJ,GAAG,CAAC,EAAE,CAAC;IACtB,IAAIK,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IACtB,IAAIM,MAAK,GAAIN,GAAG,CAAC,KAAK,CAAC;IACvB,IAAIO,SAAQ,GAAIP,GAAG,CAAC,EAAE,CAAC;IACvB,SAASQ,aAAaA,CAACC,CAAC,EAAE;MACxBN,MAAM,CAACO,IAAI,CAAC;QAACC,IAAG,EAAI,YAAY;QAAEC,KAAI,EAAI;UAACC,QAAO,EAAIJ,CAAC,CAACK,MAAM,CAACC,sBAAsB,CAACA,sBAAsB,CAACC,SAAS;UAAEZ,QAAO,EAAIA,QAAQ,CAACa;QAAK;MAAC,CAAC;IACrJ;IACA,SAASC,WAAWA,CAAA,EAAG;MACrBZ,MAAM,CAACW,KAAI,GAAI,IAAI;MACnBlB,KAAK,CAACoB,GAAG,CAAC,gBAAgB,EACzBC,IAAI,CAACC,GAAG,IAAE;QACTd,SAAS,CAACU,KAAI,GAAII,GAAG,CAACC,IAAI;MAC5B,CAAC,EACAC,KAAK,CAACC,GAAG,IAAE;QACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB,CAAC;IACH;IACA,SAASG,SAASA,CAAClB,CAAC,EAAE;MACpBL,QAAQ,CAACa,KAAI,GAAIR,CAAC,CAACK,MAAM,CAACG,KAAK;IACjC;IACA,SAASW,aAAaA,CAACnB,CAAC,EAAE;MACxBJ,QAAQ,CAACY,KAAI,GAAIR,CAAC,CAACK,MAAM,CAACG,KAAK;IACjC;IACA,SAASY,eAAeA,CAAA,EAAG;MACzB9B,KAAK,CAAC+B,IAAI,CAAC,qBAAqB,EAAE;QAACC,YAAW,EAAI1B,QAAQ,CAACY;MAAK,CAAC,EAChEG,IAAI,CAACC,GAAG,IAAE;QACTd,SAAS,CAACU,KAAI,GAAII,GAAG,CAACC,IAAI;MAC5B,CAAC,EACAC,KAAK,CAACC,GAAG,IAAE;QACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB,CAAC;IACH;IAEA,OAAO;MAAChB,aAAa;MAAEJ,QAAQ;MAAEE,MAAM;MAAEY,WAAW;MAAES,SAAS;MAAEtB,QAAQ;MAAEuB,aAAa;MAAEC,eAAe;MAAEtB;IAAS,CAAC;EACvH;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}